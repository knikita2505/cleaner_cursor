## PHOTO-001 — PhotoService (Core)
Требования:
- Один сервис управляет всеми фото-операциями.
- Методы:
  - анализ фото,
  - группировки,
  - удаление,
  - эвристики для Highlights.
- Работать в фоне.
- Обрабатывать отсутствие прав.
- Логировать ключевые шаги.

---

## Дубликаты фото

### PHOTO-DUP-001 — Детекция дубликатов
- Определять группы идентичных фото.
- Основные эвристики:
  - размер файла,
  - дата,
  - визуальный хэш (perceptual),
  - разрешение.
- Логировать:
  - количество групп,
  - количество потенциальной экономии.

### PHOTO-DUP-002 — UI (duplicates)
- Показать группы.
- Автоматически выбрать копии, кроме одной.
- Кнопка Delete → массовое удаление.
- После удаления:
  - Snackbar: freed space.
  - Обновление dashboard/storage.

---

## Похожие фото (Similar)

### PHOTO-SIM-001 — Анализ похожести
- Группировать похожие фото.
- Эвристики:
  - лица,  
  - близкая композиция,  
  - одинаковые серии,  
  - одинаковые сцены и яркость.
- Логировать: количество кластеров.

### PHOTO-SIM-002 — UI
- Слайдер чувствительности (влияет на фильтрацию).
- Выбор фото для удаления.

---

## Screenshots

### PHOTO-SCREEN-001 — Поиск скриншотов
- Определять по metadata/разрешению.
- Группировать по месяцам.
- По умолчанию выделять все.

---

## Live Photos

### PHOTO-LIVE-001 — Детекция Live
- Найти все Live Photos.
- Рассчитать экономию при конвертации.

### PHOTO-LIVE-002 — Конвертация
- Конвертировать Live → Still.
- Важно: сохранять дату и метаданные.
- Логировать успешные конверсии.

---

## Burst Photos

### PHOTO-BURST-001 — Поиск серий
- Найти burst-группы.
- Определить рекомендуемый кадр (лучшее качество).

### PHOTO-BURST-002 — Очистка
- Удалять остальные кадры после выбора.
- Логирование: удалено фото, freed MB.

---

## Big Files

### PHOTO-BIG-001 — Поиск крупных файлов
- Сортировать по размеру.
- Логировать общую сумму экономии.

---

## Swipe Clean

### PHOTO-SWIPE-001 — Swipe Engine
- Реализовать логику свайпов:
  - влево → keep,
  - вправо → delete.
- Сессия сохраняет действия.
- В конце:
  - показать summary,
  - запросить подтверждение массового удаления.
- Обработка:
  - длинных сессий,
  - случайных свайпов (undo? optional).
- Логирование:
  - `swipe_session_start`
  - `swipe_decision_delete`
  - `swipe_decision_keep`
  - `swipe_session_end`

---

## Highlights (AI-lite)

### PHOTO-HIGHLIGHTS-001 — Auto Highlights
- Эвристика выбора лучших фото:
  - четкость,
  - лица,
  - яркость,
  - не похожие на дубликаты.
- Создавать curated список.
- Логировать:
  - количество выбранных.

### PHOTO-HIGHLIGHTS-002 — Экспорт альбома
- Создать фотоальбом через PhotoKit.
- Перенести выбранные фото.