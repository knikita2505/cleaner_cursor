# main_dashboard

## Назначение
Главный экран приложения.  
Показывает объём доступной для очистки памяти и основные категории медиафайлов, начиная с фото и видео — как наиболее востребованных и дающих самую высокую конверсию в действие.

Первый экран должен мгновенно показывать пользователю:
- сколько памяти можно освободить,
- фото-категории (похожие фото, скриншоты, видео, шорт-видео, screen recordings),
- CTA для подписки.

---

# Структура экрана

## 1. Header
- Левый верхний угол: текущее время (системное)
- Правый верхний угол: кнопка **Start Free Trial**  
  - Стиль: большой зелёный плашечный CTA  
  - Важное условие: кнопка открывает paywall A/B согласно активному флагу.

---

## 2. Storage Summary (над фото-блоками)
### Элементы:
- Заголовок: **Space to clean**
- Крупное число: `14.2 GB` (динамическое)
- Прогресс-диск (кольцо):
  - Частично заполненное (анимация)
  - Цвета: синий → фиолетовый (по ui_design.md)
- Мини-статистика под числом:
  - `Clutter: X GB`
  - `Apps & data: Y GB`
  - `Total: Z GB`
- Анимация при обновлении: лёгкое масштабирование числа

---

## 3. Фото-категории (главный блок)
Этот блок должен быть **наиболее заметным**, занимать сразу большую часть первого экрана.

### Формат:
- Сетка 2×N, карточки с закруглением 18px.
- Каждая карточка содержит:
  - мини-превью (автоматически генерируется)
  - название категории
  - объём (MB/GB)
  - лёгкая тень и выделение при нажатии

### Категории (в порядке приоритета):
1. **Screenshots**  
2. **Similar Photos**  
3. **Videos**  
4. **Short Videos**  
5. **Screen Recordings**

### Поведение:
- Тап по любой карточке → переход на соответствующий детальный экран
- Анимация перехода: Hero-transition (по возможности)  
  - превью плавно увеличивается  
  - текст смещается вверх  
  - затем появляется список файлов

---

## 4. Нижняя навигация (Tab Bar)
### Вкладки:
- **Clean** (активная)  
- Swipe  
- Email  
- Hide (secret folder)  
- More  

Все иконки должны быть:
- монохромные  
- размер 24pt  
- активная вкладка подсвечена акцентным цветом

---

# Логика работы экрана

### 1. Обновление данных
При входе на экран:
- запускается сканирование фото/видео (если не кэшировано)
- Storage Summary анимированно обновляется
- карточки категорий получают подсчёты объёмов

### 2. Лимиты бесплатной версии
Если достигнут free-limit:
- карточки категорий становятся «полупрозрачными»
- после попытки очистки → показывается paywall

### 3. A/B тестирование
- Кнопка Start Free Trial → открывает Paywall A или B
- Возможно различное расположение Invite Bonus Card в зависимости от эксперимента

---

# Элементы аналитики
- `dashboard_opened`
- `dashboard_category_tap` (category = screenshots/videos/short/recordings/similar)
- `dashboard_trial_banner_tap`
- `dashboard_invite_tap`
- `dashboard_storage_refreshed`

---

# Основные переходы
- **Screenshots → screenshots_list**
- **Similar Photos → similar_list**
- **Videos → videos_list**
- **Short Videos → short_videos_list**
- **Screen Recordings → recordings_list**
- **Start Free Trial → paywall**
- **Learn More → invite_bonus_screen**

